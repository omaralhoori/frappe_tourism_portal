<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Level HTML Template</title>

    <!-- load stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
    <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="/assets/tourism_portal/css/font-awesome.min.css"> <!-- Font Awesome -->
    <link rel="stylesheet" href="/assets/tourism_portal/css/bootstrap.min.css"> <!-- Bootstrap style -->
    <link rel="stylesheet" type="text/css" href="/assets/tourism_portal/css/slick.css" />
    <link rel="stylesheet" type="text/css" href="/assets/tourism_portal/css/slick-theme.css" />
    <link rel="stylesheet" type="text/css" href="/assets/tourism_portal/css/datepicker.css" />
    <link rel="stylesheet" type="text/css" href="/assets/tourism_portal/css/select2.min.css" />
    <link rel="stylesheet" href="/assets/tourism_portal/css/tooplate-style.css"> <!-- Templatemo style -->
    <link rel="stylesheet" href="/assets/tourism_portal/css/bootstrap.select2.theme.css"> <!-- Templatemo style -->

    <style>
        .pax-template-container {
            display: none;
        }

        .children-template-container {
            display: none;
        }

        .search-card-container {
            position: relative;
        }

        .collapse-btn {
            position: absolute;
            right: -160px;
            bottom: 0;
        }
    </style>
</head>

<body>
    <div class="tm-main-content" id="top">
        <div class="tm-top-bar-bg"></div>
        <div class="tm-top-bar" id="tm-top-bar">
            <!-- Top Navbar -->
            <div class="container">
                <div class="row">

                    <nav class="navbar navbar-expand-lg narbar-light">
                        <a class="navbar-brand mr-auto" href="#">
                            <img src="img/logo.png" alt="Site logo">
                            Level
                        </a>
                        <button type="button" id="nav-toggle" class="navbar-toggler collapsed" data-toggle="collapse"
                            data-target="#mainNav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div id="mainNav" class="collapse navbar-collapse tm-bg-white">
                            <ul class="navbar-nav ml-auto">
                                <li class="nav-item">
                                    <a class="nav-link" href="#top">Home <span class="sr-only">(current)</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#tm-section-4">Portfolio</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#tm-section-5">Blog Entries</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#tm-section-6">Contact Us</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
        <div class="tm-section tm-bg-img" id="tm-section-1">

            <div class=" tm-bg-white ie-container-width-fix-2  tm-search-form-row search-card-container">
                <button onclick="collapseBtnPressed(this)"
                    class="btn btn-primary collapse-btn">
                    <i class="fa fa-chevron-up" aria-hidden="true"></i>
                </button>
                <div class="panel-group">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a>Hotel</a>
                            </h4>
                        </div>
                        <div class="panel-collapse collapse show container ie-h-align-center-fix">
                            <div class="row">
                                <div class="col-xs-12 ml-auto mr-auto ie-container-width-fix search-card">

                                    <form class="tm-search-form tm-section-pad-2">
                                        <div class="form-row tm-search-form-row">
                                            <div class="form-group tm-form-element tm-form-element-2">
                                                <i class="fa fa-map-marker fa-2x tm-color-primary"></i>
                                                <label class="">&nbsp;&nbsp; Location</label>
                                                <!-- <input name="city" type="text" class="form-control" id="inputCity" placeholder="Type your destination..."> -->
                                                <select name="location" type="text" class="form-control select2-select">
                                                    <option value=""></option>
                                                    <option value="1">1</option>

                                                </select>
                                            </div>
                                            <div class="form-group tm-form-element tm-form-element-2">
                                                <i class="fa fa-flag fa-2x tm-color-primary"></i>
                                                <label class="">&nbsp;&nbsp; Nationality</label>
                                                <!-- <input name="city" type="text" class="form-control" id="inputCity" placeholder="Type your destination..."> -->
                                                <select name="nationality" type="text"
                                                    class="form-control select2-select">

                                                </select>
                                            </div>
                                            <div class="form-group tm-form-element tm-form-element-2">
                                                <i class="fa fa-calendar fa-2x tm-form-element-icon"></i>
                                                <input name="check-in" type="text" class="form-control date-picker"
                                                    onfocus="(this.type='date')" onblur="(this.type='text')"
                                                    placeholder="Check In">
                                            </div>
                                            <div class="form-group tm-form-element tm-form-element-2">
                                                <i class="fa fa-calendar fa-2x tm-form-element-icon"></i>
                                                <input name="check-out" type="text" class="form-control date-picker"
                                                    onfocus="(this.type='date')" onblur="(this.type='text')"
                                                    placeholder="Check Out">
                                            </div>
                                        </div>
                                        <div class="form-row tm-search-form-row">
                                            <div class="form-group tm-form-element tm-form-element-2">
                                                <select name="room" onchange="romCountChanged(this)"
                                                    class="form-control tm-select room-select">
                                                    <option value="">Room</option>
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                    <option value="6">6</option>
                                                    <option value="7">7</option>
                                                    <option value="8">8</option>
                                                    <option value="9">9</option>
                                                    <option value="10">10</option>
                                                </select>
                                                <i class="fa fa-2x fa-bed tm-form-element-icon"></i>
                                            </div>
                                            <div class="pax-container">

                                            </div>
                                        </div>
                                        <div class="form-row tm-search-form-row d-flex flex-row-reverse">
                                            <div class="form-group tm-form-element tm-form-element-2">
                                                <button class="btn btn-primary tm-btn-search">Add Transfer</button>
                                            </div>
                                            <div class="form-group tm-form-element tm-form-element-2">
                                                <button class="btn btn-primary tm-btn-search">Add Tour</button>
                                            </div>
                                        </div>
                                    </form>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="pax-template-container">
            <div class="form-row tm-search-form-row align-items-center ml-4">
                <label class="room-label">Room1</label>
                <div class="form-group tm-form-element tm-form-element-2">
                    <select name="adult" class="form-control tm-select">
                        <option value="">Adult</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                    <i class="fa fa-2x fa-user tm-form-element-icon"></i>
                </div>
                <div class="form-group tm-form-element tm-form-element-2">
                    <select onchange="childCountChanged(this)" name="children" class="form-control tm-select">
                        <option value="">Children</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                    <i class="fa fa-user tm-form-element-icon tm-form-element-icon-small"></i>
                </div>
                <div class="children-container">

                </div>
            </div>

        </div>
        <div class="children-template-container">
            <div class="form-row tm-search-form-row align-items-center ml-4">
                <label class="child-label">Child 1</label>
                <div class="form-group tm-form-element tm-form-element-2">
                    <select name="child-age" class="form-control tm-select">
                        <option value="">Child Age</option>
                        <option value="1">1</option>collapse
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                    </select>
                    <i class="fa fa-user tm-form-element-icon"></i>
                </div>
            </div>
        </div>
        <!-- load JS files -->
        <script src="/assets/tourism_portal/js/jquery-1.11.3.min.js"></script>
        <!-- jQuery (https://jquery.com/download/) -->
        <script src="/assets/tourism_portal/js/popper.min.js"></script> <!-- https://popper.js.org/ -->
        <script src="/assets/tourism_portal/js/bootstrap.min.js"></script> <!-- https://getbootstrap.com/ -->
        <script src="/assets/tourism_portal/js/datepicker.min.js"></script>
        <!-- https://github.com/qodesmith/datepicker -->
        <script src="/assets/tourism_portal/js/jquery.singlePageNav.min.js"></script>
        <!-- Single Page Nav (https://github.com/ChrisWojcik/single-page-nav) -->
        <script src="/assets/tourism_portal/js/slick.min.js"></script> <!-- http://kenwheeler.github.io/slick/ -->
        <script src="/assets/tourism_portal/js/bootstrap-select2-theme.js"></script>
        <!-- http://kenwheeler.github.io/slick/ -->
        <script src="/assets/tourism_portal/js/select2.min.js"></script>

        <script>
            $(document).ready(function () {
                $('.select2-select').each(function (i, select) {
                    var icons = $(this).siblings('i');
                    var labels = $(this).siblings('label');
                    var placeholder = '';
                    if (icons.length > 0) {
                        placeholder += $(this).siblings('i').prop('outerHTML');
                        $(this).siblings('i').hide();
                    }
                    if (labels.length > 0) {
                        placeholder += $(this).siblings('label').prop('outerHTML');
                        $(this).siblings('label').hide();
                    }
                    $(this).select2({
                        theme: 'bootstrap-5',
                        placeholder: placeholder,
                        escapeMarkup: function (markup) {
                            return markup;
                        }
                    });
                })
            });
            // Date Picker
            $('.date-picker').each(function (i, select) {
                datepicker(this, {
                    formatter: (input, date, instance) => {
                        const value = date.toLocaleDateString("fr-CA")
                        input.value = value // => '1/1/2099'
                    }
                });

            })

            $('.room-select').change(function (e) {
                var roomCount = $(this).val();

            })

            function romCountChanged(e) {
                if (!e.value) e.value = 0;
                var paxContainer = e.parentNode.parentNode.querySelector('.pax-container');
                var html = '';
                for (var i = 0; i < e.value; i++) {
                    document.querySelector('.pax-template-container .room-label').innerText = `Room ${i + 1}`
                    html += document.querySelector('.pax-template-container').innerHTML;
                }
                paxContainer.innerHTML = html;
            }
            function childCountChanged(e) {
                if (!e.value) e.value = 0;
                var childrenContainer = e.parentNode.parentNode.querySelector('.children-container');
                var html = '';
                for (var i = 0; i < e.value; i++) {
                    document.querySelector('.children-template-container .child-label').innerText = `Child ${i + 1}`
                    html += document.querySelector('.children-template-container').innerHTML;
                }
                childrenContainer.innerHTML = html;
            }
            function collapseBtnPressed(e) {
                if (e.parentNode.querySelector('.panel-collapse').classList.toggle('show')){
                    e.innerHTML = `<i class="fa fa-chevron-down" aria-hidden="true"></i>`
                }else{
                    e.innerHTML = `<i class="fa fa-chevron-up" aria-hidden="true"></i>`
                }
                
            }

        </script>

</body>

</html>